{"ast":null,"code":"import * as productActions from './products.actions';\nlet initialState = {\n  allProducts: [],\n  productDetail: {},\n  category: [],\n  cart: []\n};\nexport const reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case productActions.FETCH_PRODUCTS_SUCCESS:\n      return {\n        ...state,\n        category: action.payload,\n        allProducts: action.payload\n      };\n    case productActions.FETCH_PRODUCTS_FAILURE:\n      return {\n        ...state\n      };\n    case productActions.FETCH_PRODUCTDETAIL_SUCCESS:\n      return {\n        ...state,\n        productDetail: action.payload\n      };\n    case productActions.FILTER_BY_CATEGORY:\n      if (action.payload === \"All\") {\n        return {\n          ...state,\n          allProducts: state.category\n        };\n      } else {\n        const filterByCategory = state.category.filter(element => element.category === action.payload);\n        return {\n          ...state,\n          allProducts: filterByCategory\n        };\n      }\n      ;\n    case productActions.FILTER_BY_PRICE:\n      const sortRes = state.category.sort((a, b) => {\n        if (action.payload === \"all\") {\n          return a.id > b.id ? 1 : -1;\n        }\n        if (action.payload === \"low\") {\n          return a.price > b.price ? 1 : -1;\n        }\n        if (action.payload === \"high\") {\n          return a.price < b.price ? 1 : -1;\n        }\n      });\n      console.log(\"sortRes\", sortRes);\n      return {\n        ...state,\n        allProducts: [...sortRes]\n      };\n    case productActions.ADD_TO_CART:\n      return {\n        ...state,\n        cart: [...state.cart, action.payload]\n      };\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["productActions","initialState","allProducts","productDetail","category","cart","reducer","state","arguments","length","undefined","action","type","FETCH_PRODUCTS_SUCCESS","payload","FETCH_PRODUCTS_FAILURE","FETCH_PRODUCTDETAIL_SUCCESS","FILTER_BY_CATEGORY","filterByCategory","filter","element","FILTER_BY_PRICE","sortRes","sort","a","b","id","price","console","log","ADD_TO_CART"],"sources":["/Users/vishalverma/Desktop/react-task/ecom-app/src/redux/products/products.reducer.js"],"sourcesContent":["import * as productActions from './products.actions';\r\n\r\nlet initialState = {\r\n    allProducts: [],\r\n    productDetail: {},\r\n    category: [],\r\n    cart: []\r\n};\r\n\r\nexport const reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case productActions.FETCH_PRODUCTS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                category: action.payload,\r\n                allProducts: action.payload\r\n            };\r\n        case productActions.FETCH_PRODUCTS_FAILURE:\r\n            return {\r\n                ...state,\r\n            };\r\n        case productActions.FETCH_PRODUCTDETAIL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                productDetail: action.payload\r\n            };\r\n        case productActions.FILTER_BY_CATEGORY:\r\n            if (action.payload === \"All\") {\r\n                return {\r\n                    ...state,\r\n                    allProducts: state.category\r\n                }\r\n            } else {\r\n                const filterByCategory = state.category.filter(element => element.category === action.payload)\r\n                return {\r\n                    ...state,\r\n                    allProducts: filterByCategory\r\n                }\r\n            };\r\n        case productActions.FILTER_BY_PRICE:\r\n            const sortRes = state.category.sort((a, b) => {\r\n                if (action.payload === \"all\") {\r\n                    return a.id > b.id ? 1 : -1;\r\n                }\r\n                if (action.payload === \"low\") {\r\n                    return a.price > b.price ? 1 : -1;\r\n                }\r\n                if (action.payload === \"high\") {\r\n                    return a.price < b.price ? 1 : -1;\r\n                }\r\n            });\r\n            console.log(\"sortRes\", sortRes)\r\n            return {\r\n                ...state,\r\n                allProducts: [...sortRes]\r\n            };\r\n        case productActions.ADD_TO_CART:\r\n            return {\r\n                ...state,\r\n                cart: [...state.cart, action.payload]\r\n            };\r\n        default: return state;\r\n    }\r\n};\r\n"],"mappings":"AAAA,OAAO,KAAKA,cAAc,MAAM,oBAAoB;AAEpD,IAAIC,YAAY,GAAG;EACfC,WAAW,EAAE,EAAE;EACfC,aAAa,EAAE,CAAC,CAAC;EACjBC,QAAQ,EAAE,EAAE;EACZC,IAAI,EAAE;AACV,CAAC;AAED,OAAO,MAAMC,OAAO,GAAG,SAAAA,CAAA,EAAkC;EAAA,IAAjCC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGP,YAAY;EAAA,IAAEU,MAAM,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAChD,QAAQC,MAAM,CAACC,IAAI;IACf,KAAKZ,cAAc,CAACa,sBAAsB;MACtC,OAAO;QACH,GAAGN,KAAK;QACRH,QAAQ,EAAEO,MAAM,CAACG,OAAO;QACxBZ,WAAW,EAAES,MAAM,CAACG;MACxB,CAAC;IACL,KAAKd,cAAc,CAACe,sBAAsB;MACtC,OAAO;QACH,GAAGR;MACP,CAAC;IACL,KAAKP,cAAc,CAACgB,2BAA2B;MAC3C,OAAO;QACH,GAAGT,KAAK;QACRJ,aAAa,EAAEQ,MAAM,CAACG;MAC1B,CAAC;IACL,KAAKd,cAAc,CAACiB,kBAAkB;MAClC,IAAIN,MAAM,CAACG,OAAO,KAAK,KAAK,EAAE;QAC1B,OAAO;UACH,GAAGP,KAAK;UACRL,WAAW,EAAEK,KAAK,CAACH;QACvB,CAAC;MACL,CAAC,MAAM;QACH,MAAMc,gBAAgB,GAAGX,KAAK,CAACH,QAAQ,CAACe,MAAM,CAACC,OAAO,IAAIA,OAAO,CAAChB,QAAQ,KAAKO,MAAM,CAACG,OAAO,CAAC;QAC9F,OAAO;UACH,GAAGP,KAAK;UACRL,WAAW,EAAEgB;QACjB,CAAC;MACL;MAAC;IACL,KAAKlB,cAAc,CAACqB,eAAe;MAC/B,MAAMC,OAAO,GAAGf,KAAK,CAACH,QAAQ,CAACmB,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;QAC1C,IAAId,MAAM,CAACG,OAAO,KAAK,KAAK,EAAE;UAC1B,OAAOU,CAAC,CAACE,EAAE,GAAGD,CAAC,CAACC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;QAC/B;QACA,IAAIf,MAAM,CAACG,OAAO,KAAK,KAAK,EAAE;UAC1B,OAAOU,CAAC,CAACG,KAAK,GAAGF,CAAC,CAACE,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC;QACrC;QACA,IAAIhB,MAAM,CAACG,OAAO,KAAK,MAAM,EAAE;UAC3B,OAAOU,CAAC,CAACG,KAAK,GAAGF,CAAC,CAACE,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC;QACrC;MACJ,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEP,OAAO,CAAC;MAC/B,OAAO;QACH,GAAGf,KAAK;QACRL,WAAW,EAAE,CAAC,GAAGoB,OAAO;MAC5B,CAAC;IACL,KAAKtB,cAAc,CAAC8B,WAAW;MAC3B,OAAO;QACH,GAAGvB,KAAK;QACRF,IAAI,EAAE,CAAC,GAAGE,KAAK,CAACF,IAAI,EAAEM,MAAM,CAACG,OAAO;MACxC,CAAC;IACL;MAAS,OAAOP,KAAK;EAAC;AAE9B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}